<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:body>

	<ui:composition>
		<ui:fragment rendered="#{sessionInfoBean.loggedIn}">
			<aside class="main-sidebar">
				<section class="sidebar">
					<ul class="sidebar-menu">
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
								href="/employee/mainpage_employee.xhtml"> <i
									class="fa fa-home fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Startbildschirm</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup
							rendered="#{sessionInfoBean.hasRole('PARENT') and !sessionInfoBean.inactiveParent}">
							<li class="treeview"><a
								href="/parent/mainpage_active_parent.xhtml"> <i
									class="fa fa-home fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Startbildschirm</span>
							</a></li>
						</h:panelGroup>

						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
								href="/nursery/nursery_information.xhtml"><i
									class="fa fa-info-circle fa-3x "></i> <span
									style="padding-left: 40px; font-size: 25px">KiTa Info</span> </a></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('ADMIN')}">
							<li class="treeview"><a href="/admin/adminpage_admin.xhtml">
									<i class="fa fa-male fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Adminstratoren</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup
							rendered="#{sessionInfoBean.hasRole('ADMIN') or sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
								href="/employee/parentspage_admin.xhtml"> <i
									class="fa fa-users fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Elternteile</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
								href="/employee/children_employee.xhtml"> <i
									class="fa fa-child fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Kinder</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
									href="/employee/sibling_employee.xhtml"> <i
									class="fa fa-child fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Geschwister</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup
							rendered="#{sessionInfoBean.hasRole('PARENT') and !sessionInfoBean.inactiveParent}">
							<li class="treeview"><a href="/parent/children_parent.xhtml">
									<i class="fa fa-child fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Kinder</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup
							rendered="#{sessionInfoBean.hasRole('EMPLOYEE') or sessionInfoBean.hasRole('PARENT')}">
							<li class="treeview"><a
								href="/general/picturegalery.xhtml"> <i
									class="fa fa-picture-o fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Bildergalerie</span>
							</a></li>
						</h:panelGroup>

						<h:panelGroup rendered="#{sessionInfoBean.hasRole('ADMIN')}">
							<li class="treeview"><a
								href="/admin/employeepage_admin.xhtml"> <i
									class="fa fa-female fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Angestellte</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup
							rendered="#{sessionInfoBean.hasRole('ADMIN') or sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a href="/employee/logpage_admin.xhtml">
									<i class="fa fa-file-archive-o fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Logdatei</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
								href="/employee/lunch_employee.xhtml"> <i
									class="fa fa-cutlery fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Essen</span>
							</a></li>
						</h:panelGroup>
						<h:panelGroup rendered="#{sessionInfoBean.hasRole('EMPLOYEE')}">
							<li class="treeview"><a
									href="/employee/taskList_employee.xhtml"> <i
									class="fa fa-tasks fa-3x"></i> <span
									style="padding-left: 40px; font-size: 25px">Aufgaben</span>
							</a></li>
						</h:panelGroup>
					</ul>
				</section>
			</aside>
		</ui:fragment>
		<h:form>

			<p:dialog header="Eigene Daten" id="ownDataDialog"
				widgetVar="ownDataDialog" modal="true" showEffect="fade"
				hideEffect="fade" resizable="false" closeOnEscape="true">
				<p:messages id="messages" autoUpdate="true" />
				<p:outputPanel id="parentDataCreate">
					<p:outputPanel>
						<h:outputLabel for="fupload-edit" id="logo-section-edit">
							<p:fileUpload id="fupload-edit" widgetVar="fupload-edit"
								auto="true" mode="advanced" style="display:none;"
								fileUploadListener="#{fileBean.handleFileUploadProfilePicture}"
								dragDropSupport="true" update="logo-section-edit">
							</p:fileUpload>
							<div align="center" onclick="$('input[type=file]').click()">
								<p:graphicImage id="out-image-edit"
									style="max-height: 200px; max-width: 200px"
									name="pictures/profile_pictures/#{userService.loadUser(sessionInfoBean.getCurrentUserData().getUsername()).getImgName()}">
								</p:graphicImage>
								<p:outputPanel>
									<p:graphicImage
										rendered="#{empty userService.loadUser(sessionInfoBean.getCurrentUserData().getUsername()).getImgName()}"
										name="pictures/profile_pictures/emptypicture.png"
										value="Bild hochladen"></p:graphicImage>
								</p:outputPanel>
								<br />
							</div>
						</h:outputLabel>
					</p:outputPanel>
					<h:panelGrid columns="2">
						<p:outputLabel for="username" value="Benutzername: " />
						<p:inputText id="username"
							value="#{sessionInfoBean.currentUserData.username}"
							disabled="true" />
					</h:panelGrid>
					<p:separator />
					<h:panelGrid columns="2">
						<p:outputLabel for="firstname" value="Vorname: " />
						<p:inputText id="firstname"
							value="#{sessionInfoBean.currentUserData.firstName}"
							disabled="true" />
						<p:outputLabel for="lastname" value="Nachname: " />
						<p:inputText id="lastname"
							value="#{sessionInfoBean.currentUserData.lastName}"
							disabled="true" />
					</h:panelGrid>
					<p:separator />
					<h:panelGrid columns="2">
						<p:outputLabel for="street" value="Straße: " />
						<p:inputText id="street" value="#{sessionInfoBean.streetName}" placeholder="#{sessionInfoBean.currentUserData.streetName}" />
						<p:outputLabel for="location" value="Ort: " />
						<p:inputText id="location" value="#{sessionInfoBean.location}" placeholder="#{sessionInfoBean.currentUserData.location}" />
						<p:outputLabel for="postcode" value="Postleitzahl: " />
						<p:inputMask id="postcode" mask="9999?9" slotChar=" "
							value="#{sessionInfoBean.postcode}" placeholder="#{sessionInfoBean.currentUserData.postcode}" />
						<p:outputLabel for="email" value="Email: " />
						<p:inputText id="email" placeholder="#{sessionInfoBean.currentUserData.email}"
							validatorMessage="Ungültiges Email-Format!"
							value="#{sessionInfoBean.email}">
							<f:validateRegex
								pattern="^$|^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
						</p:inputText>
						<p:outputLabel for="phone" value="Telefonnummer: " />
						<p:inputText id="phone" value="#{sessionInfoBean.phoneNumber}" placeholder="#{sessionInfoBean.currentUserData.phoneNumber}" />
						<p:outputLabel for="notifier" value="Email Benachrichtigung: " />
						<p:selectBooleanButton id="notifier"
							value="#{sessionInfoBean.notification}" onLabel="Ja"
							offLabel="Nein" style="width:60px" />
					</h:panelGrid>
					<p:separator />
					<p:panelGrid columns="5">
						<h:outputText value="Farbschema ändern: "></h:outputText>
						<a
							href="javascript:void(0);" data-skin="skin-green"
							class="clearfix full-opacity-hover"> <span
								style="display: block; width: 40px; float: left; height: 40px; background: #00a65a; border-radius: 20%;margin-left:7px; margin-right:9px;"></span>
						</a>


						<a
							href="javascript:void(0);" data-skin="skin-red"
							class="clearfix full-opacity-hover"> <span
								style="display: block; width: 40px; float: left; height: 40px; background: #dd4b39; border-radius: 20%; margin-right:9px;"></span>
						</a>


						<a
							href="javascript:void(0);" data-skin="skin-yellow"
							class="clearfix full-opacity-hover"> <span
								style="display: block; width: 40px; float: left; height: 40px; background: #f39c12; border-radius: 20%; margin-right:9px;"></span>
						</a>

						<a
							href="javascript:void(0);" data-skin="skin-purple"
							class="clearfix full-opacity-hover"> <span
								style="display: block; width: 40px; float: left; height: 40px; background: #605ca8; border-radius: 20%; margin-right:7px;"></span>
						</a>

				</p:panelGrid>
					<h:panelGrid columns="3">
						<p:commandButton value="Speichern"
							action="#{sessionInfoBean.doSaveUser()}"
							oncomplete="if (args &amp;&amp; !args.validationFailed) PF('ownDataDialog').hide()" />
						<p:commandButton value="Abbruch"
							onclick="PF('ownDataDialog').hide()" immediate="true" />
					</h:panelGrid>
				</p:outputPanel>
			</p:dialog>


		</h:form>


	</ui:composition>
</h:body>
</html>