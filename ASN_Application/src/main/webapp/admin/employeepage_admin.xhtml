<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ng="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/main.xhtml">
	<ui:define name="content">
		<h:body>
			<ui:fragment rendered="#{sessionInfoBean.loggedIn}">
				<body class="theme-blue sidebar-mini sidebar-collapse">

					<div class="wrapper">
						<!-- =============================================== -->

						<div class="content-wrapper" style="min-height: 1126px;">
							<section class="content">

								<!-- Default box -->
								<div class="box">
									<div class="box-body">
										<div align="right" style="margin-bottom: 10px;">
											<p:commandButton oncomplete="PF('employeeAddDialog').show()"
												value="+ Parent" style="align-items:right;"></p:commandButton>
										</div>
											<h:form id="employeeForm">
												<p:dataTable id="employeeTable" var="employee"
													widgetVar="employeeTable"
													value="#{employeeController.employees}" rows="10"
													paginatorPosition="bottom" paginator="true"
													paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
													rowsPerPageTemplate="10,25,50">

													<f:facet name="header">
														<p:outputPanel>
															<h:outputText value="Search all: " />
															<p:inputText id="globalFilter"
																onkeyup="PF('employeeTable').filter()"
																style="width:150px" placeholder="Enter keyword" />
														</p:outputPanel>
													</f:facet>

													<f:facet name="{Exporters}"
														style="float: right; vertical-align: middle;">
														<div style="float: right; vertical-align: middle;">
															<h:commandLink>
																<p:graphicImage id="print" name="pictures/extractors/printer.png"
																	width="32" />
																<p:spacer width="10" />
																<p:tooltip for="print" value="drucken" position="top" />
																<p:printer />
															</h:commandLink>
															<h:commandLink>
																<p:graphicImage id="excel" name="pictures/extractors/excel.png"
																	width="32" />
																<p:spacer width="10" />
																<p:tooltip for="excel" value="export excel"
																	position="top" />
																<p:dataExporter type="xls" target="employeeTable"
																	fileName="Employees" />
															</h:commandLink>
															<h:commandLink>
																<p:graphicImage id="pdf" name="pictures/extractors/pdf.png"
																	width="32" />
																<p:spacer width="10" />
																<p:tooltip for="pdf" value="export pdf" position="top" />
																<p:dataExporter type="pdf" target="employeeTable"
																	fileName="Employees" />
															</h:commandLink>
															<h:commandLink>
																<p:graphicImage id="csv" name="pictures/extractors/csv.png"
																	width="32" />
																<p:tooltip for="csv" value="export csv" position="top" />
																<p:dataExporter type="csv" target="employeeTable"
																	fileName="Employees" />
															</h:commandLink>
														</div>
													</f:facet>

													<p:column headerText="Username"
														filterBy="#{employee.username}"
														sortBy="#{employee.username}" filterStyle="display:none" filterMatchMode="contains">
														<h:outputText value="#{employee.username}" />
													</p:column>
													<p:column headerText="First Name"
														filterBy="#{employee.firstName}"
														sortBy="#{employee.firstName}" filterStyle="display:none">
														<h:outputText value="#{employee.firstName}" />
													</p:column>
													<p:column headerText="Last Name"
														filterBy="#{employee.lastName}"
														sortBy="#{employee.lastName}" filterStyle="display:none">
														<h:outputText value="#{employee.lastName}" />
													</p:column>
													<p:column headerText="Religion"
														filterBy="#{employee.religion}"
														sortBy="#{employee.religion}" filterStyle="display:none">
														<h:outputText value="#{employee.religion}" />
													</p:column>
													<p:column style="width:100px;text-align: center"
														exportable="false">
														<p:commandButton update=":employeeForm:employeeEditDialog"
															oncomplete="PF('employeeEditDialog').show()"
															icon="ui-icon-note" title="Edit">
															<f:setPropertyActionListener value="#{employee}"
																target="#{employeeEditController.employee}" />
														</p:commandButton>
														<p:commandButton
															action="#{employeeEditController.doDeleteEmployee}"
															icon="ui-icon-trash" title="Delete"
															update=":employeeForm:employeeTable">
															<f:setPropertyActionListener value="#{employee}"
																target="#{employeeEditController.employee}" />
															<p:confirm header="Confirmation"
																message="Are you sure that you want to delete this employee? You cannot undo this operation."
																icon="ui-icon-alert" />
														</p:commandButton>
													</p:column>
												</p:dataTable>

												<!-- Create Employee Dialog -->
												<p:dialog header="Create Employee" id="employeeAddDialog"
													widgetVar="employeeAddDialog" modal="true"
													showEffect="fade" hideEffect="fade" resizable="false">
													<p:outputPanel id="employeeDataCreate">
														<h:panelGrid columns="2">
															<p:outputLabel for="username" value="Username: " />
															<p:inputText id="username"
																value="#{employeeController.employee.username}" />
															<p:outputLabel for="password" value="Password: " />
															<p:password id="password"
																value="#{employeeController.employee.password}" />
														</h:panelGrid>
														<p:separator />
														<h:panelGrid columns="6">
															<p:outputLabel for="firstname" value="First Name: " />
															<p:inputText id="firstname"
																value="#{employeeController.employee.firstName}" />
															<p:outputLabel for="lastname" value="Last Name: " />
															<p:inputText id="lastname"
																value="#{employeeController.employee.lastName}" />
															<p:outputLabel for="birthday" value="Birthdate: " />
															<p:inputMask mask="99/99/9999" id="birthday"
																value="#{employeeController.employee.birthday}" />
															<p:outputLabel for="location" value="Location: " />
															<p:inputText id="location"
																value="#{employeeController.employee.location}" />
															<p:outputLabel for="street" value="Streetname: " />
															<p:inputText id="street"
																value="#{employeeController.employee.streetName}" />
															<p:outputLabel for="postcode" value="Postcode: " />
															<p:inputText id="postcode"
																value="#{employeeController.employee.postcode}" />
															<p:outputLabel for="phonenumber" value="Phonenumber: " />
															<p:inputText id="phonenumber"
																value="#{employeeController.employee.phoneNumber}" />
														</h:panelGrid>
														<p:separator />
														<h:panelGrid columns="6">
															<p:outputLabel for="familystatus" value="Familystatus: " />
															<p:selectOneMenu id="familystatus"
																value="#{employeeController.employee.familyStatus}"
																style="width:150px">
																<f:selectItem itemLabel="Select Familystatus"
																	itemValue="" noSelectionOption="true" />
																<f:selectItems value="#{enumController.familyStatus}" />
															</p:selectOneMenu>
															<p:outputLabel for="religion" value="Religion: " />
															<p:selectOneMenu id="religion"
																value="#{employeeController.employee.religion}"
																style="width:150px">
																<f:selectItem itemLabel="Select Religion" itemValue=""
																	noSelectionOption="true" />
																<f:selectItems value="#{enumController.religions}" />
															</p:selectOneMenu>
															<p:outputLabel for="workRole" value="Role: " />
															<p:selectOneMenu id="workRole"
																value="#{employeeController.employee.workRole}"
																style="width:150px">
																<f:selectItem itemLabel="Select Role" itemValue=""
																	noSelectionOption="true" />
																<f:selectItems value="#{enumController.workRoles}" />
															</p:selectOneMenu>
														</h:panelGrid>
														<h:panelGrid columns="3">
															<p:commandButton value="Save"
																action="#{employeeController.doSaveEmployee()}"
																oncomplete="PF('employeeAddDialog').hide()"
																update=":employeeForm" />
															<p:commandButton value="Abort"
																oncomplete="employeeAddDialog.hide()" />
														</h:panelGrid>
													</p:outputPanel>
												</p:dialog>

												<!-- Edit Employee Dialog -->
												<p:dialog header="Edit Employee" id="employeeEditDialog"
													widgetVar="employeeEditDialog" modal="true"
													showEffect="fade" hideEffect="fade" resizable="false">
													<p:outputPanel id="employeeDataEdit"
														rendered="#{not empty employeeEditController.employee}">
														<h:panelGrid columns="2">
															<p:outputLabel for="userName" value="Username: " />
															<p:inputText id="userName"
																value="#{employeeEditController.employee.username}"
																disabled="true" />
															<p:outputLabel for="passWord" value="Password: " />
															<p:password id="passWord"
																value="#{employeeEditController.employee.password}"
																disabled="true" />
														</h:panelGrid>
														<p:separator />
														<h:panelGrid columns="6">
															<p:outputLabel for="firstName" value="First Name: " />
															<p:inputText id="firstName"
																value="#{employeeEditController.employee.firstName}" />
															<p:outputLabel for="lastName" value="Last Name: " />
															<p:inputText id="lastName"
																value="#{employeeEditController.employee.lastName}" />
															<p:outputLabel for="birthDay" value="Birthdate: " />
															<p:inputMask mask="99/99/9999" id="birthDay"
																value="#{employeeEditController.employee.birthday}" />
															<p:outputLabel for="Location" value="Location: " />
															<p:inputText id="Location"
																value="#{employeeEditController.employee.location}" />
															<p:outputLabel for="Street" value="Streetname: " />
															<p:inputText id="Street"
																value="#{employeeEditController.employee.streetName}" />
															<p:outputLabel for="postCode" value="Postcode: " />
															<p:inputText id="postCode"
																value="#{employeeEditController.employee.postcode}" />
															<p:outputLabel for="phoneNumber" value="Phonenumber: " />
															<p:inputText id="phoneNumber"
																value="#{employeeEditController.employee.phoneNumber}" />
														</h:panelGrid>
														<p:separator />
														<h:panelGrid columns="6">
															<p:outputLabel for="familyStatus" value="Familystatus: " />
															<p:selectOneMenu id="familyStatus"
																value="#{employeeEditController.employee.familyStatus}"
																style="width:150px">
																<f:selectItem itemLabel="Select Familystatus"
																	itemValue="#{employeeEditController.employee.familyStatus}" />
																<f:selectItems value="#{enumController.familyStatus}" />
															</p:selectOneMenu>
															<p:outputLabel for="Religion" value="Religion: " />
															<p:selectOneMenu id="Religion"
																value="#{employeeEditController.employee.religion}"
																style="width:150px">
																<f:selectItem itemLabel="Select Religion"
																	itemValue="#{employeeEditController.employee.religion}" />
																<f:selectItems value="#{enumController.religions}" />
															</p:selectOneMenu>
															<p:outputLabel for="Role" value="Role: " />
															<p:selectOneMenu id="Role"
																value="#{employeeEditController.employee.workRole}"
																style="width:150px">
																<f:selectItem itemLabel="Select Role"
																	itemValue="#{employeeEditController.employee.workRole}" />
																<f:selectItems value="#{enumController.workRoles}" />
															</p:selectOneMenu>
														</h:panelGrid>
														<p:separator />
														<h:panelGrid columns="3">
															<p:commandButton value="Save"
																action="#{employeeEditController.doSaveEmployee()}"
																oncomplete="PF('employeeEditDialog').hide()"
																update=":employeeForm:employeeTable" />
															<p:commandButton value="Reload"
																action="#{employeeEditController.doReloadUser()}"
																update=":employeeForm:employeeDataEdit" />
															<p:commandButton value="Abort"
																onclick="PF('employeeEditDialog').hide()" />
														</h:panelGrid>
													</p:outputPanel>
												</p:dialog>

												<p:confirmDialog global="true" showEffect="fade"
													hideEffect="fade" width="300">
													<p:commandButton value="Yes" type="button"
														styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
													<p:commandButton value="No" type="button"
														styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
												</p:confirmDialog>
											</h:form>
										</div>
									</div>

								</section>
								<!-- /.content -->
							</div>
						</div>

				</body>


				<link rel="stylesheet"
					href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
			</ui:fragment>

		</h:body>
	</ui:define>
</ui:composition>